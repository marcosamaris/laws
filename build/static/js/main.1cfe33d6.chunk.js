(this.webpackJsonplaws=this.webpackJsonplaws||[]).push([[0],{109:function(e,t){},111:function(e,t){},121:function(e,t,n){"use strict";n.r(t),function(e){var t=n(2),a=n(17),r=n(122),i=r.getAlignableAnnotationStartSlot,s=r.getAlignableAnnotationEndSlot,c=r.getDocID,l=r.getNonemptyTiers,o=r.getParentTierName,u=r.getTierName,d=r.isTierSubdivided,f=r.getAnnotationValue,h=r.getAnnotations,v=r.getAnnotationID,j=r.getAnnotationIDMap,b=r.getDocTimeslotsMap,m=r.getTierSpeakerName,p=r.getTierChildrenMap,O=r.getTierLanguage,g=n(123),y=n(124);function x(e,t,n,a){var r=a-t,i=n-t,s=e-t;return s=Math.floor(s*r/i),s+=t}function N(e,t,n,a,r,i,s){S(e,0,t,n,a,r,i,s),T(e,0,t,n,a,r,i,s)}function S(e,n,a,r,c,l,o,u){o[e]=n;var d=n+1;for(var f in r[e])if(r[e].hasOwnProperty(f)){var h=n,v=null,j="Included_In"===a[f];j&&(v=i(c[e]));var b,m=r[e][f],p=Object(t.a)(m);try{for(p.s();!(b=p.n()).done;){var O=b.value;if(j){var g=i(c[O]);g!==v&&l[g]!==l[v]&&h++,v=s(c[O])}S(O,h,a,r,c,l,o,u),h=u[O],d=Math.max(d,h)}}catch(y){p.e(y)}finally{p.f()}}u[e]=d}function T(e,n,a,r,i,s,c,l){for(var o in r[e])if(r[e].hasOwnProperty(o)){var u,d=r[e][o],f=l[d[d.length-1]]+n,h=c[e],v=l[e],j=Object(t.a)(d);try{for(j.s();!(u=j.n()).done;){var b=u.value,m=c[b],p=x(m+n,h,f,v);c[b]=p;var O=x(l[b]+n,h,f,v);l[b]=O,T(b,p-m,a,r,i,s,c,l)}}catch(g){j.e(g)}finally{j.f()}}}e.exports={preprocess:function(e,n,r,x){var S=c(e),T={metadata:y.improveElanIndexData(r,S,e),sentences:[]};T.metadata["tier IDs"]={},T.metadata["speaker IDs"]={},T.metadata["story ID"]=S;for(var I=l(e),_=I.filter((function(e){return null==o(e)})),A={},k=0;k<I.length;k++){var E="T"+(k+1).toString(),C=I[k],w=u(C);T.metadata["tier IDs"][E]={name:w,subdivided:d(w,I)},A[w]=E}var P,D={},L=e.LINGUISTIC_TYPE,M=Object(t.a)(L);try{for(M.s();!(P=M.n()).done;){var F=P.value,R=F.$.LINGUISTIC_TYPE_ID,J=F.$.CONSTRAINTS||"";D[R]=J}}catch(ot){M.e(ot)}finally{M.f()}var $,V={},B=Object(t.a)(I);try{for(B.s();!($=B.n()).done;){var G=$.value,U=u(G),W=D[G.$.LINGUISTIC_TYPE_REF];V[U]=W}}catch(ot){B.e(ot)}finally{B.f()}var H,Y=I.filter((function(e){return"Symbolic_Subdivision"===V[u(e)]||"Symbolic_Association"===V[u(e)]})),q={},X=Object(t.a)(Y);try{for(X.s();!(H=X.n()).done;){var z,K=H.value,Q=u(K),Z=Object(t.a)(h(K));try{for(Z.s();!(z=Z.n()).done;){var ee=z.value,te=v(ee),ne=ee.REF_ANNOTATION[0].$.ANNOTATION_REF;null==q[ne]&&(q[ne]={}),null==q[ne][Q]&&(q[ne][Q]=[]),q[ne][Q].push(te)}}catch(ot){Z.e(ot)}finally{Z.f()}}}catch(ot){X.e(ot)}finally{X.f()}var ae=j(I),re=b(e);for(var ie in q)if(q.hasOwnProperty(ie))for(var se in q[ie]){var ce=q[ie][se],le=[],oe=V[se];"Symbolic_Association"===oe?le=ce:"Symbolic_Subdivision"===oe?function(){var e,n="",a=Object(t.a)(ce);try{for(a.s();!(e=a.n()).done;){e.value;var r=ce.find((function(e){return n===(ae[e].REF_ANNOTATION[0].$.PREVIOUS_ANNOTATION||"")}));le.push(r),n=r}}catch(ot){a.e(ot)}finally{a.f()}}():(console.log("WARNING: missing or unrecognized ELAN stereotype for tier ".concat(se,". Annotations may display out of order.")),le=ce),q[ie][se]=le}var ue,de=p(I),fe=Object(t.a)(I);try{var he=function(){var e,n=ue.value,a=de[u(n)]||[],r=I.filter((function(e){return"Time_Subdivision"===V[u(e)]&&null!=a.find((function(t){return t===u(e)}))})),c=Object(t.a)(r);try{for(c.s();!(e=c.n()).done;){var l,o=e.value,d=u(o),f=h(o),j=Object(t.a)(h(n));try{var b=function(){for(var e=l.value,t=[],n=i(e),a=s(e);n!==a;){var r=f.find((function(e){return n===i(e)||null!=re[n]&&re[n]===i(e)}));if(null==r)break;var c=v(r);t.push(c),n=s(r)}var o=v(e);0!==t.length&&(null==q[o]&&(q[o]={}),q[o][d]=t)};for(j.s();!(l=j.n()).done;)b()}catch(ot){j.e(ot)}finally{j.f()}}}catch(ot){c.e(ot)}finally{c.f()}};for(fe.s();!(ue=fe.n()).done;)he()}catch(ot){fe.e(ot)}finally{fe.f()}var ve,je=Object(t.a)(I);try{var be=function(){var e,n=ve.value,a=(u(n),de[u(n)]||[]),r=I.filter((function(e){return"Included_In"===V[u(e)]&&null!=a.find((function(t){return t===u(e)}))})),c=Object(t.a)(r);try{for(c.s();!(e=c.n()).done;){var l,o=e.value,d=u(o),f=h(o),j=Object(t.a)(h(n));try{for(j.s();!(l=j.n()).done;){var b=l.value,m=[],p=i(b),O=s(b),g=re[p],y=re[O];if(g&&y){var x,N=Object(t.a)(f);try{for(N.s();!(x=N.n()).done;){me=x.value;var S=v(me),T=i(me),_=s(me),A=re[T]>=g&&re[T]<y,k=re[_]>g&&re[_]<=y;(A||k)&&m.push(S)}}catch(ot){N.e(ot)}finally{N.f()}m=m.sort((function(e,t){var n=ae[e],a=ae[t];return(re[i(n)]||re[s(n)]-1)-(re[i(a)]||re[s(a)]-1)}))}var E,C=Object(t.a)(f);try{for(C.s();!(E=C.n()).done;){me=E.value;var w=v(me),P=i(me),D=s(me);P===p&&w!==m[0]?m.splice(0,0,w):D===O&&w!==m[m.length-1]&&m.push(w)}}catch(ot){C.e(ot)}finally{C.f()}for(var L=0,M=function(){var e=m[L],t=ae[e],n=s(t),a=m[L+1],r=ae[a],c=i(r),l=f.find((function(e){return i(e)===n}));if(null==l&&(l=f.find((function(e){return s(e)===c}))),null!=l){var o=v(l);null!=o&&o!=a&&m.splice(L+1,0,o)}L++};L<m.length-1;)M();var F=v(b);q.hasOwnProperty(F)||(q[F]={}),q[F][d]=m}}catch(ot){j.e(ot)}finally{j.f()}}}catch(ot){c.e(ot)}finally{c.f()}};for(je.s();!(ve=je.n()).done;){var me;be()}}catch(ot){je.e(ot)}finally{je.f()}var pe,Oe={},ge=Object(t.a)(_);try{for(ge.s();!(pe=ge.n()).done;){var ye,xe=pe.value,Ne=Object(t.a)(h(xe));try{for(Ne.s();!(ye=Ne.n()).done;){for(var Se=ye.value,Te=v(Se),Ie={},_e=[Te];_e.length>0;){var Ae=_e[0];for(var ke in _e.shift(),q[Ae])if(q[Ae].hasOwnProperty(ke)){var Ee=q[Ae][ke];Ie.hasOwnProperty(ke)||(Ie[ke]=[]),Ie[ke]=Ie[ke].concat(Ee),_e=_e.concat(Ee)}}Oe[Te]=Ie}}catch(ot){Ne.e(ot)}finally{Ne.f()}}}catch(ot){ge.e(ot)}finally{ge.f()}var Ce,we=g.getHiddenTiers(n),Pe=[],De=Object(t.a)(we);try{for(De.s();!(Ce=De.n()).done;){var Le=Ce.value;Pe.push(A[Le])}}catch(ot){De.e(ot)}finally{De.f()}var Me,Fe=g.getTierOrder(n),Re=[],Je=Object(t.a)(Fe);try{for(Je.s();!(Me=Je.n()).done;){var $e=Me.value;Re.push(A[$e])}}catch(ot){Je.e(ot)}finally{Je.f()}for(var Ve=0;Ve<_.length;Ve++){var Be="S"+(Ve+1).toString(),Ge=A[u(_[Ve])];T.metadata["speaker IDs"][Be]={name:m(_[Ve]),language:O(_[Ve]),tier:Ge};var Ue,We=Object(t.a)(h(_[Ve]));try{for(We.s();!(Ue=We.n()).done;){var He=Ue.value,Ye=v(He),qe={},Xe={};N(Ye,V,q,ae,re,qe,Xe);var ze={speaker:Be,tier:Ge,start_time_ms:parseInt(re[i(He)],10),end_time_ms:parseInt(re[s(He)],10),num_slots:Xe[Ye],text:f(He),dependents:[]},Ke=Oe[Ye];for(var Qe in Ke)if(Ke.hasOwnProperty(Qe)){var Ze,et={tier:A[Qe],values:[]},tt=Object(t.a)(Ke[Qe]);try{for(tt.s();!(Ze=tt.n()).done;){var nt=Ze.value,at=ae[nt];qe.hasOwnProperty(nt)||console.log("oh no, missing annotation!"),et.values.push({start_slot:qe[nt],end_slot:Xe[nt],value:f(at)})}}catch(ot){tt.e(ot)}finally{tt.f()}ze.dependents.push(et)}if(0!==Re.length){var rt,it=[],st=Object(t.a)(Re);try{var ct=function(){var e=rt.value,t=ze.dependents.find((function(t){return t.tier===e}));null!=t&&it.push(t)};for(st.s();!(rt=st.n()).done;)ct()}catch(ot){st.e(ot)}finally{st.f()}ze.dependents=it}ze.dependents=ze.dependents.filter((function(e){return!Pe.includes(e.tier)})),Pe.includes(ze.tier)&&(ze.text="",ze.noTopRow="true"),T.sentences.push(ze)}}catch(ot){We.e(ot)}finally{We.f()}}for(var lt in T.sentences.sort((function(e,t){return e.start_time_ms-t.start_time_ms})),T.metadata["tier IDs"])T.metadata["tier IDs"].hasOwnProperty(lt)&&Pe.includes(lt)&&delete T.metadata["tier IDs"][lt];a.writeFile("data/eaf_temp.json",JSON.stringify(T,null,2))},assignSlots:N}}.call(this,n(25)(e))},122:function(e,t,n){"use strict";n.r(t),function(e){var t=n(2);function a(e){var n,a={},r=Object(t.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,s=o(i);null!=s&&(null==a[s]&&(a[s]=[]),a[s].push(l(i)))}}catch(c){r.e(c)}finally{r.f()}return a}function r(e,n){if(null==n[e])return[];var a,i=n[e],s=Object(t.a)(n[e]);try{for(s.s();!(a=s.n()).done;){var c=a.value;i=i.concat(r(c,n))}}catch(l){s.e(l)}finally{s.f()}return i}function i(e){var n,i=e.filter((function(e){return null==o(e)})),s=a(e),c={},u=Object(t.a)(i);try{for(u.s();!(n=u.n()).done;){var d=l(n.value);c[d]=r(d,s)}}catch(f){u.e(f)}finally{u.f()}return c}function s(e,t){return parseInt(e.slice(2))-parseInt(t.slice(2))}function c(e){return null!=u(e)[0].ALIGNABLE_ANNOTATION}function l(e){return e.$.TIER_ID}function o(e){return e.$.PARENT_REF}function u(e){return e.ANNOTATION}function d(e){if(!c(e))return new Set;var n,a=u(e),r=new Set(a.map((function(e){return j(e)}))),i=new Set(a.map((function(e){return b(e)}))),s=r,l=Object(t.a)(i);try{for(l.s();!(n=l.n()).done;){var o=n.value;s.add(o)}}catch(d){l.e(d)}finally{l.f()}return s}function f(e){return null!=e.ALIGNABLE_ANNOTATION}function h(e){return f(e)?e.ALIGNABLE_ANNOTATION[0]:e.REF_ANNOTATION[0]}function v(e,t){for(var n=e;null==n.ALIGNABLE_ANNOTATION;){n=t[n.REF_ANNOTATION[0].$.ANNOTATION_REF]}return n}function j(e){return p(h(e))}function b(e){return O(h(e))}function m(e){return e.$.ANNOTATION_ID}function p(e){return e.$.TIME_SLOT_REF1}function O(e){return e.$.TIME_SLOT_REF2}e.exports={getDocID:function(e){var n,a=e.HEADER[0].PROPERTY,r=Object(t.a)(a);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("URN"===i.$.NAME){var s=i._;return s.substring(s.lastIndexOf(":")+1)}}}catch(c){r.e(c)}finally{r.f()}return null},getDocTimeslotsMap:function(e){var n=e.TIME_ORDER[0].TIME_SLOT;if(null==n)return console.log("WARN: No timing information found. It looks like this ELAN file doesn't have any annotations."),{};var a,r=[],i=Object(t.a)(n);try{for(i.s();!(a=i.n()).done;){var s=a.value;r[s.$.TIME_SLOT_ID]=parseInt(s.$.TIME_VALUE,10)}}catch(c){i.e(c)}finally{i.f()}return r},getNonemptyTiers:function(e){return e.TIER.filter((function(e){return null!=e.ANNOTATION&&e.ANNOTATION.length>0}))},getTierChildrenMap:a,getTierDependentsMap:i,getAnnotationIDMap:function(e){var n,a={},r=Object(t.a)(e);try{for(r.s();!(n=r.n()).done;){var i,s=n.value,c=Object(t.a)(u(s));try{for(c.s();!(i=c.n()).done;){var l=i.value;a[m(h(l))]=l}}catch(o){c.e(o)}finally{c.f()}}}catch(o){r.e(o)}finally{r.f()}return a},slotIDDiff:s,getTierTimeslotsMap:function(e){var n,a=e.filter((function(e){return null==o(e)})),r=i(e),c={},u=Object(t.a)(a);try{for(u.s();!(n=u.n()).done;){var f,h=n.value,v=l(h),j=d(h),b=Object(t.a)(e);try{for(b.s();!(f=b.n()).done;){var m=f.value;if(r[v].includes(l(m))){var p,O=Object(t.a)(d(m));try{for(O.s();!(p=O.n()).done;){var g=p.value;j.add(g)}}catch(S){O.e(S)}finally{O.f()}}}}catch(S){b.e(S)}finally{b.f()}var y=Array.from(j).sort(s),x={};for(var N in y)y.hasOwnProperty(N)&&(x[y[N]]=N);c[v]=x}}catch(S){u.e(S)}finally{u.f()}return c},isTierSubdivided:function(e,t){return null!=o(function(e,t){var n=t.find((function(t){return l(t)===e}));for(;!c(n);)n=t.find((function(e){return l(e)===o(n)}));return n}(e,t))},getTierName:l,getParentTierName:o,getTierSpeakerName:function(e){return e.$.PARTICIPANT},getTierLanguage:function(e){return e.$.LANG_REF},getAnnotations:u,isAnnotationAlignable:f,getAnnotationID:function(e){return m(h(e))},getAnnotationValue:function(e){return h(e).ANNOTATION_VALUE[0]},getAnnotationStartSlot:function(e,t){return p(h(v(e,t)))},getAnnotationEndSlot:function(e,t){return O(h(v(e,t)))},getAlignableAnnotationStartSlot:j,getAlignableAnnotationEndSlot:b}}.call(this,n(25)(e))},123:function(e,t,n){"use strict";n.r(t),function(e){var t=n(2);function a(e,n){if(null==n||null==n.preferences||null==n.preferences.prefList)return[];var a,r=n.preferences.prefList,i=Object(t.a)(r);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(null!=s.$&&s.$.key==e)return s.String||[]}}catch(c){i.e(c)}finally{i.f()}return[]}e.exports={getTierOrder:function(e){return a("MultiTierViewer.TierOrder",e)},getHiddenTiers:function(e){return a("MultiTierViewer.HiddenTiers",e)||[]}}}.call(this,n(25)(e))},124:function(e,t,n){"use strict";n.r(t),function(e){var t=n(2),a=n(125);n(126);function r(e){var t=String(e).lastIndexOf("/")+1;return String(e).substring(t,e.length)}function i(e){return String(e).substring(0,String(e).lastIndexOf("."))}e.exports={getMetadataFromIndex:function(e){var t=JSON.parse(a.readFileSync("data/index.json","utf8"));return t.hasOwnProperty(e)?t[e]:null},getFilenameFromPath:r,improveElanIndexData:function(e,n,a){var s=r(e),c=null,l=new Date,o=l.getMonth()+1+"/"+l.getDate()+"/"+l.getFullYear();null==c&&(c={timed:!0,"story ID":n,title:{_default:i(s)},media:{audio:"",video:""},languages:[],date_created:"",date_uploaded:o,source:{_default:""},description:"",genre:"",author:"",glosser:"",speakers:[],xml_file_name:e,source_filetype:"ELAN"});var u,d=new Set,f=a.TIER,h=Object(t.a)(f);try{for(h.s();!(u=h.n()).done;){var v=u.value;v.$.PARTICIPANT&&d.add(v.$.PARTICIPANT)}}catch(g){h.e(g)}finally{h.f()}c.speakers=Array.from(d);var j=[],b=a.HEADER[0].MEDIA_DESCRIPTOR;if(null!=b){var m,p=Object(t.a)(b);try{for(p.s();!(m=p.n()).done;){var O=m.value;j.push(O.$.MEDIA_URL)}}catch(g){p.e(g)}finally{p.f()}}return c}}}.call(this,n(25)(e))},126:function(e,t,n){"use strict";n.r(t),function(e){var t=n(2);function a(e){return i(r(e)[0])[0]}function r(e){var n,a=[],r=e.paragraphs[0].paragraph,i=Object(t.a)(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(null!=s.phrases){var c=s.phrases[0].word;null==c&&(c=s.phrases[0].phrase),null!=c&&a.push(c)}}}catch(l){i.e(l)}finally{i.f()}return a}function i(e){var n,a=[],r=Object(t.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;a.push(i)}}catch(s){r.e(s)}finally{r.f()}return a}function s(e){var n,a=Object(t.a)(e.item);try{for(a.s();!(n=a.n()).done;){var r=n.value;if("txt"===r.$.type)return r}}catch(i){a.e(i)}finally{a.f()}return null}function c(e){var t=e.$;if(null!=t){var n=t["begin-time-offset"];if(null!=n)return parseInt(n,10)}return null}function l(e){if(null==e.words)return[];var t=e.words[0].word;return null==t?[]:t}function o(e){return e._}e.exports={getDocumentSourceLang:function(e){var t=a(e),n=l(t)[0];return null!=n?n.item[0].$.lang:s(t).$.lang},documentHasTimestamps:function(e){return null!=c(a(e))},getDocumentParagraphs:r,getParagraphSentences:i,getSentenceTextIfNoWords:function(e){var t=s(e);return null!=t?o(t):null},getSentenceFreeGlosses:function(e){var n,a=[],r=e.item,i=Object(t.a)(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;if("gls"===s.$.type)null!=s._&&a.push(s)}}catch(c){i.e(c)}finally{i.f()}return a},getSentenceStartTime:c,getSentenceEndTime:function(e){var t=e.$;if(null!=t){var n=t["end-time-offset"];if(null!=n)return parseInt(n,10)}return null},getSentenceSpeaker:function(e){var t=e.$;return null!=t?t.speaker:null},getSentenceWords:l,getWordMorphs:function(e){return null==e.morphemes?[]:e.morphemes[0].morph},getWordValue:function(e){return e.item[0]._},getMorphTiers:function(e){return e.item},getMorphPartOfSpeech:function(e){return null==e.$?null:e.$.type},getMorphTierValue:function(e){return e._},getFreeGlossValue:o}}.call(this,n(25)(e))},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),i=n.n(r),s=n(74),c=n.n(s),l=n(34),o=n(5),u=n(8),d=n(9),f=n(4),h=n(11),v=n(10),j=n(3),b=n.n(j);function m(e){var t=e.title;return Object(a.jsx)("h3",{id:"title",children:t})}var p=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(a.jsx)("video",{src:this.props.path,id:"video",controls:!0,controlsList:"nodownload"})}}],[{key:"show",value:function(){b()("#leftPanel").css("width","40%"),b()("#leftPanel").css("height","calc(100% - 48px)"),b()("#centerPanel").css("margin-left","40%"),b()("#centerPanel").css("height","calc(100% - 48px)"),b()("#centerPanel").css("width","60%"),b()("#footer").css("display","none"),b()("#audio").removeAttr("ontimeupdate"),b()("#audio").removeAttr("onclick"),b()("#audio").attr("data-live","false"),b()("#video").css("display","inline"),b()("#video").attr("data-live","true"),b()("#video").attr("ontimeupdate","sync(this.currentTime)"),b()("#video").attr("onclick","sync(this.currentTime)");var e=document.getElementById("audio"),t=document.getElementById("video");e.paused||(e.pause(),t.play()),t.currentTime=e.currentTime}},{key:"hide",value:function(){var e="calc(100% - "+((b()("#footer").height()+48).toString()+"px")+")";b()("#leftPanel").css("width","300px"),b()("#leftPanel").css("height",e),b()("#centerPanel").css("height",e),b()("#centerPanel").css("margin-left","300px"),b()("#centerPanel").css("width","calc(100% - 300px)"),b()("#video").css("display","none"),b()("#video").removeAttr("onclick"),b()("#video").removeAttr("ontimeupdate"),b()("#video").attr("data-live","false"),b()("#footer").css("display","block"),b()("#audio").attr("data-live","true"),b()("#audio").attr("ontimeupdate","sync(this.currentTime)"),b()("#audio").attr("onclick","sync(this.currentTime)");var t=document.getElementById("audio"),n=document.getElementById("video");n.paused||(n.pause(),t.play()),t.currentTime=n.currentTime}}]),n}(i.a.Component),O=n(12),g=n.n(O);function y(e){var t=e.speakers,n=[];if(null!=t){for(var r in t)if(t.hasOwnProperty(r)){var i=r+": "+t[r].name;n.push(Object(a.jsx)("li",{children:i},g.a.generate()))}return Object(a.jsxs)("div",{id:"speakerList",children:["Speakers: ",Object(a.jsx)("ul",{children:n})]})}return null}function x(e){var t=e.metadata,n=null,r=null;return""!=t.description&&(n=Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:"Description:"})," ",t.description]})),""!=t.author&&(r=Object(a.jsxs)("p",{children:["Author: ",t.author]})),""!=t.genre&&Object(a.jsxs)("p",{children:["Genre: ",t.genre]}),""!=t.date_created&&Object(a.jsxs)("p",{children:["Date: ",t.date_created]}),Object(a.jsxs)("div",{id:"metadata",children:[n,r]})}function N(e){var t=e.metadata,n=null,r=null;return""!=t.glosser&&(n=Object(a.jsxs)("p",{children:["Glosser: ",t.glosser]})),""!=t.source._default?r=Object(a.jsxs)("p",{children:["Source: ",t.source._default]}):t.source.hasOwnProperty("con-Latn-EC")&&""!=t.source["con-Latn-EC"]&&(r=Object(a.jsxs)("p",{children:["Source: ",t.source["con-Latn-EC"]]})),Object(a.jsxs)("div",{id:"metadata",children:[r,n]})}function S(e){var t=e.metadata;return Object(a.jsxs)("div",{id:"info",className:"miniPage active",children:[Object(a.jsx)(x,{metadata:t}),Object(a.jsx)(y,{speakers:t["speaker IDs"]})]})}function T(e){var t=e.metadata;return Object(a.jsx)("div",{id:"info",className:"miniPage active",children:Object(a.jsx)(N,{metadata:t})})}var I=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={checkboxState:!0},a.toggle=a.toggle.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"toggle",value:function(e){this.setState({checkboxState:!this.state.checkboxState}),this.state.checkboxState?b()("tr[data-tier='"+this.props.tier_id+"']").css("display","none"):b()("tr[data-tier='"+this.props.tier_id+"']").css("display","table-row")}},{key:"render",value:function(){this.props.tier_id;var e=this.props.tier_name;return Object(a.jsxs)("li",{children:[Object(a.jsx)("input",{type:"checkbox",onClick:this.toggle,defaultChecked:!0}),Object(a.jsx)("label",{children:e})]})}}]),n}(i.a.Component);function _(e){var t=e.tiers,n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(Object(a.jsx)(I,{tier_id:r,tier_name:t[r].name},r));return Object(a.jsxs)("div",{id:"tierList",children:[Object(a.jsx)("b",{children:"Show/hide tiers:"})," ",Object(a.jsx)("ul",{children:n})]})}var A=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={checkboxState:!0},a.toggle=a.toggle.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"toggle",value:function(e){this.setState({checkboxState:!this.state.checkboxState}),this.state.checkboxState?p.hide():p.show()}},{key:"render",value:function(){return Object(a.jsxs)("div",{id:"videoButton",children:[Object(a.jsx)("input",{type:"checkbox",onClick:this.toggle,defaultChecked:!0}),Object(a.jsx)("label",{children:"Show video"})]})}}]),n}(i.a.Component);function k(e){var t=e.tiers,n=null;return e.hasVideo&&(n=Object(a.jsx)(A,{})),Object(a.jsxs)("div",{id:"settings",className:"miniPage",children:[Object(a.jsx)(_,{tiers:t}),n]})}function E(e){var t=e.metadata,n=e.hasVideo;return Object(a.jsx)("div",{id:"minibar",children:Object(a.jsxs)("div",{id:"miniPage",children:[Object(a.jsx)(S,{metadata:t}),Object(a.jsx)(k,{tiers:t["tier IDs"],hasVideo:n}),Object(a.jsx)(T,{metadata:t})]})})}function C(e){var t=e.metadata,n=t.title["con-Latn-EC"];if(""!=t.title._default&&(n=t.title._default),t.timed&&""!=t.media.video){var r=t.media.video;return Object(a.jsxs)("div",{id:"leftPanel",children:[Object(a.jsx)(p,{path:r}),Object(a.jsx)(m,{title:n}),Object(a.jsx)(E,{metadata:t,hasVideo:!0})]})}return Object(a.jsxs)("div",{id:"leftPanel",children:[Object(a.jsx)(m,{title:n}),Object(a.jsx)(E,{metadata:t,hasVideo:!1})]})}var w=n(2);function P(e){var t,n=e.numSlots,r=e.values,i=e.tier,s=n,c=0,l=[],o=Object(w.a)(r);try{for(o.s();!(t=o.n()).done;){var u=t.value,d=u.start_slot,f=u.end_slot,h=u.value;if(d>c){var v=String(d-c);l.push(Object(a.jsx)("td",{colSpan:v},g.a.generate()))}var j=String(f-d);l.push(Object(a.jsx)("td",{colSpan:j,children:h},g.a.generate())),c=f}}catch(m){o.e(m)}finally{o.f()}if(c<s){var b=String(s-c);l.push(Object(a.jsx)("td",{colSpan:b},g.a.generate()))}return Object(a.jsx)("tr",{"data-tier":i,children:l})}function D(e){var t=e.sentence,n=[],r=t.num_slots;null!=t.noTopRow&&"false"!==t.noTopRow||n.push(Object(a.jsx)("tr",{"data-tier":t.tier,children:Object(a.jsx)("td",{colSpan:r,className:"topRow",children:t.text})}));var i,s=t.dependents,c=Object(w.a)(s);try{for(c.s();!(i=c.n()).done;){var l=i.value,o=l.values,u=l.tier;n.push(Object(a.jsx)(P,{numSlots:r,values:o,tier:u},g.a.generate()))}}catch(d){c.e(d)}finally{c.f()}return Object(a.jsx)("table",{className:"gloss",children:Object(a.jsx)("tbody",{children:n})})}function L(e){var t,n=e.sentences,r=[],i=Object(w.a)(n);try{for(i.s();!(t=i.n()).done;){var s=t.value;r.push(Object(a.jsx)("div",{className:"untimedBlock",children:Object(a.jsx)(D,{sentence:s},g.a.generate())},g.a.generate()))}}catch(c){i.e(c)}finally{i.f()}return Object(a.jsx)("div",{id:"untimedTextDisplay",children:r})}var M=n(17);function F(){var e=window.document.activeElement.getAttribute("capture-start-time");!function(e){window.document.activeElement.parentElement.parentElement.parentElement.removeChild(e)}(window.document.activeElement.parentElement.parentElement),function(e){console.log(e),M.readString("data/eaf_temp.json").then((function(t){var n=JSON.parse(t),a=0;n.sentences.forEach((function(t){a++,t.start_time_ms==e&&delete n.sentences[a]&&(a=0,console.log(n.sentences))}))}))}(e)}function R(e){var t=e.sentence,n=t.speaker;return Object(a.jsxs)("div",{className:"labeledSentence",children:[Object(a.jsxs)("span",{className:"speakerLabel",children:[n,": "]}),Object(a.jsx)(D,{sentence:t,isTimeAligned:!0})]})}function J(e){var t,n=e.sentences,r=[],i=Object(w.a)(n);try{for(i.s();!(t=i.n()).done;){var s=t.value;r.push(Object(a.jsx)(R,{sentence:s},g.a.generate()))}}catch(c){i.e(c)}finally{i.f()}return Object(a.jsx)("div",{className:"timeBlock",children:r})}function $(e){var t=e.sentences,n=e.timestamp;n=function(e){e=Number(e);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),a=Math.floor(e%3600%60);if(a>=10)r=String(a);else var r="0"+String(a);var i=String(n)+":";if(0==t)s="";else if(n>=10)s=String(t)+":";else var s=String(t)+":0";return s+i+r}(n);var r,i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Object(w.a)(t);try{for(c.s();!(r=c.n()).done;){var l=r.value,o=l.start_time_ms,u=l.end_time_ms;o<i&&(i=o),u>s&&(s=u)}}catch(d){c.e(d)}finally{c.f()}return Object(a.jsxs)("div",{className:"labeledTimeBlock","data-start_time":i,"data-end_time":s,children:[Object(a.jsxs)("span",{className:"timeStampContainer",children:[Object(a.jsx)("a",{href:"javascript:void(0)","data-start_time":i,className:"timeStamp",children:n}),Object(a.jsx)("button",{"capture-start-time":i,onClick:F,children:"Delete"})]}),Object(a.jsx)(J,{sentences:t})]})}function V(e){var t,n=e.sentences,r=[],i={},s=[],c=Object(w.a)(n);try{for(c.s();!(t=c.n()).done;){var l=t.value,o=l.start_time_ms,u=Math.floor(o/1e3);u in i?i[u].push(l):(s.push(u),i[u]=[l])}}catch(j){c.e(j)}finally{c.f()}s.sort((function(e,t){return e-t}));for(var d=0,f=s;d<f.length;d++){var h=f[d],v=i[h];r.push(Object(a.jsx)($,{sentences:v,timestamp:h},g.a.generate()))}return Object(a.jsx)("div",{id:"timedTextDisplay",children:r})}function B(e){var t=e.timed,n=e.sentences;return t?Object(a.jsx)("div",{id:"centerPanel",children:Object(a.jsx)(V,{sentences:n})}):Object(a.jsx)("div",{id:"centerPanel",children:Object(a.jsx)(L,{sentences:n})})}function G(){function e(e){var t=e.getBoundingClientRect();t.bottom>window.innerHeight&&e.scrollIntoView(!1),t.top<0&&e.scrollIntoView()}window.sync=function(t){for(var i=0;i<n.length;i++)if(t-.001>=parseFloat(a[i])/1e3&&t<=parseFloat(r[i])/1e3)n[i].setAttribute("id","current"),e(b()("#current")[0]),n[i].style.backgroundColor="rgb(209, 200, 225)";else{n[i].style.backgroundColor="transparent";try{n[i].removeAttribute("id")}catch(s){}}};try{var t=document.querySelectorAll("[data-live='true']")[0];t.setAttribute("ontimeupdate","sync(this.currentTime)"),t.setAttribute("onclick","sync(this.currentTime)")}catch(s){console.log(s)}for(var n=document.getElementsByClassName("labeledTimeBlock"),a=[],r=[],i=0;i<n.length;i++)a[i]=n[i].getAttribute("data-start_time"),r[i]=n[i].getAttribute("data-end_time");b()(".timeStamp").click((function(){!function(e){try{e+=2,(t=document.querySelectorAll("[data-live='true']")[0]).currentTime=e/1e3}catch(s){console.log(s),console.log("We think you tried to jump to time before the MEDIA element was created.")}}(b()(this).data("start_time"))}))}var U=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){0!==b()("#footer").length&&(G(),0!==b()("#video").length?p.show():p.hide())}},{key:"render",value:function(){var e=this.props.story;console.log(e);var t=e.sentences,n=e.metadata.timed,r=null;if(n){var i,s=e.metadata.media;i=s.hasOwnProperty("audio")?s.audio:s.video,r=Object(a.jsx)("div",{id:"footer",children:Object(a.jsx)("audio",{"data-live":"true",controls:!0,controlsList:"nodownload",id:"audio",src:i})})}return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{id:"middle",children:[Object(a.jsx)(C,{metadata:e.metadata}),Object(a.jsx)(B,{timed:n,sentences:t})]}),r]})}}]),n}(i.a.Component),W=n(76),H={participant:"",trilha:"",starttime:"",endtime:""},Y=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={participant:"",translations:"",transcriptions:"",starttime:"",endtime:"",sentence:null},a.captureInfo=a.captureInfo.bind(Object(f.a)(a)),a.verifyCompatibleWithLenghtOfMedia=a.verifyCompatibleWithLenghtOfMedia.bind(Object(f.a)(a)),a.setSentenceOnJSON=a.setSentenceOnJSON.bind(Object(f.a)(a)),a.writeFile=a.writeFile.bind(Object(f.a)(a)),a.handleChangeParticipant=a.handleChangeParticipant.bind(Object(f.a)(a)),a.handleChangeTranslations=a.handleChangeTranslations.bind(Object(f.a)(a)),a.handleChangeTranscriptions=a.handleChangeTranscriptions.bind(Object(f.a)(a)),a.handleChangeStartTime=a.handleChangeStartTime.bind(Object(f.a)(a)),a.handleChangeEndTime=a.handleChangeEndTime.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"captureInfo",value:function(){console.log(this.state);var e="";if(this.verifyCompatibleWithLenghtOfMedia()){var t=this.props.story;t["speaker IDs"]={S1:{name:this.state.participant,tier:"T1"}},Array.of(t.speakers).push(this.state.participant),e={dependents:[{tier:"T2",values:[{value:this.state.translations,end_slot:1,start_slot:0}]}],end_time_ms:this.state.endtime,num_slots:"",speaker:this.state.participant,start_time_ms:this.state.starttime,text:this.state.transcriptions,tier:"T1"},console.log(e),this.setSentenceOnJSON(e),this.setState.apply(this,Object(W.a)(H))}}},{key:"verifyCompatibleWithLenghtOfMedia",value:function(){if(1e3*document.getElementById("video").duration>this.state.endtime)return console.log("Trilha compativel"),!0}},{key:"setSentenceOnJSON",value:function(e){var t=this.props.story;t.sentences.push(e),this.props.setJSONCallback(t)}},{key:"writeFile",value:function(e){M.writeFile("data/elan_files/eaftemp.eaf",JSON.stringify(e,null,2))}},{key:"handleChangeParticipant",value:function(e){this.setState({participant:e.target.value})}},{key:"handleChangeTranslations",value:function(e){this.setState({translations:e.target.value})}},{key:"handleChangeTranscriptions",value:function(e){this.setState({transcriptions:e.target.value})}},{key:"handleChangeStartTime",value:function(e){this.setState({starttime:e.target.value})}},{key:"handleChangeEndTime",value:function(e){this.setState({endtime:e.target.value})}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"insert",children:[Object(a.jsx)("label",{className:"labels participant",htmlFor:"",children:"Participant"}),Object(a.jsx)("input",{type:"text",className:"participant",value:this.state.participant,onChange:this.handleChangeParticipant}),Object(a.jsx)("label",{className:"labels starttime",htmlFor:"",children:"Start Time"}),Object(a.jsx)("input",{type:"text",className:"starttime",value:this.state.starttime,onChange:this.handleChangeStartTime}),Object(a.jsx)("label",{className:"labels endtime",htmlFor:"",children:"End Time"}),Object(a.jsx)("input",{type:"text",className:"endtime",value:this.state.endTime,onChange:this.handleChangeEndTime}),Object(a.jsx)("label",{className:"labels transcriptions",htmlFor:"",children:"Transcriptions"}),Object(a.jsx)("input",{type:"text",className:"transcriptions",value:this.state.transcriptions,onChange:this.handleChangeTranscriptions}),Object(a.jsx)("label",{className:"labels translations",htmlFor:"",children:"Translations"}),Object(a.jsx)("input",{type:"text",className:"translations",value:this.state.translations,onChange:this.handleChangeTranslations}),Object(a.jsx)("input",{type:"Submit",id:"submit",className:"add",value:"Add",onClick:this.captureInfo})]}),Object(a.jsx)("div",{className:"line"})]})}}]),n}(r.Component);function q(){return Object(a.jsx)("p",{children:"Story not found. Perhaps you mistyped the URL? "})}n(91);var X=n(92).parseString,z=n(121),K=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).fileInput=i.a.createRef(),a.media=i.a.createRef(),a.open_file=a.open_file.bind(Object(f.a)(a)),a.setJSON=a.setJSON.bind(Object(f.a)(a)),a.state={JSON:null,fileLoadend:!1,media:null,xml:null,sentence:null},a}return Object(d.a)(n,[{key:"open_file",value:function(){var e=this,t=new FileReader,n=new FileReader;t.readAsText(this.fileInput.current.files[0]),t.onload=function(){M.writeFile("data/elan_files/eaftemp.eaf",t.result)},n.readAsDataURL(this.media.current.files[0]),n.onload=function(){e.setState({video:n.result})};var a=this.fileInput.current.files[0].name;M.readString("data/elan_files/eaftemp.eaf").then((function(t){X(t,(function(t,n){if(t)throw t;var r=n.ANNOTATION_DOCUMENT;console.log(r),z.preprocess(r,a,(function(e){console.log(e)})),console.log("sucesso"),M.readString("data/eaf_temp.json").then((function(t){var n=JSON.parse(t);n.metadata.media.video=e.state.video,n.metadata.media.audio=e.state.audio,e.setState({JSON:n,fileLoadend:!0})}))}))}))}},{key:"setJSON",value:function(e){this.setState({JSON:e})}},{key:"render",value:function(){var e=this.state.JSON;return this.state.fileLoadend?Object(a.jsxs)(o.c,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(Y,{story:e,setJSONCallback:this.setJSON}),Object(a.jsx)(U,{story:e})]}),Object(a.jsx)(o.a,{component:q})]}):Object(a.jsxs)("div",{className:"openproject",children:[Object(a.jsxs)("div",{className:"line-center",children:[Object(a.jsx)("div",{className:"line line-right"}),Object(a.jsx)("h1",{className:"line fs-18",children:"Choose the files XMLs and the of media!"}),Object(a.jsx)("div",{className:"line line-left"})]}),Object(a.jsxs)("form",{children:[Object(a.jsx)("label",{className:"labels-open",htmlFor:"xml",children:"Choose XML"}),Object(a.jsx)("input",{type:"file",id:"xml",ref:this.fileInput}),Object(a.jsx)("label",{className:"labels-open",htmlFor:"media",children:" Choose media"}),Object(a.jsx)("input",{type:"file",id:"media",ref:this.media}),Object(a.jsx)("input",{type:"submit",className:"start",value:"Start",onClick:this.open_file})]})]})}}]),n}(r.Component),Q=n(36),Z=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(d.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"export",children:Object(a.jsx)("button",{children:"Export XML"})})}}]),n}(r.Component),ee=(n(134),function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={JSON:null,media:null},a.createJSON=a.createJSON.bind(Object(f.a)(a)),a.setJSON=a.setJSON.bind(Object(f.a)(a)),a.fileMedia=i.a.createRef(),a.loadFiles=a.loadFiles.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"createJSON",value:function(){var e,t={metadata:(e={author:"",timed:!0,date_created:new Date,data_uploaded:"",description:"",genre:"",glosser:"",languages:[],media:{audio:"",video:this.state.media},source:{_default:""},source_filetype:"ELAN","speaker IDs":{},speakers:[],"story ID":"0ef60c73-c757-46c9-ab12-a17874de63ee","tier IDs":{T1:{name:"Transcriptions",subdivided:!1},T2:{name:"Translations",subdivided:"false"}}},Object(Q.a)(e,"timed",!0),Object(Q.a)(e,"title",{_default:""}),e),sentences:[]};this.setState({JSON:t}),console.log(t)}},{key:"loadFiles",value:function(){var e=this,t=new FileReader;t.readAsDataURL(this.fileMedia.current.files[0]),t.onload=function(){e.setState({media:t.result}),e.fileMedia.current.files[0].type.includes("video")?console.log("video"):e.fileMedia.current.files[0].type.includes("audio")&&console.log("audio"),e.createJSON()}}},{key:"setJSON",value:function(e){this.setState({JSON:e})}},{key:"render",value:function(){var e=this.state.JSON;return console.log(e),this.state.JSON?Object(a.jsxs)("div",{children:[Object(a.jsx)(Y,{story:e,setJSONCallback:this.setJSON}),Object(a.jsx)(Z,{}),Object(a.jsx)(U,{story:this.state.JSON})]}):Object(a.jsxs)("div",{className:"form",children:[Object(a.jsxs)("div",{className:"line-center",children:[Object(a.jsx)("div",{className:"line line-right"}),Object(a.jsx)("h1",{className:"line fs-18",children:"Choose the file of Media"}),Object(a.jsx)("div",{className:"line line-left"})]}),Object(a.jsxs)("div",{className:"start-button",children:[Object(a.jsx)("label",{htmlFor:"arquivo",className:"xml",children:"Choose a Media"}),Object(a.jsx)("input",Object(Q.a)({type:"file",id:"file-here",ref:this.fileMedia,onInput:this.loadFiles},"id","arquivo"))]})]})}}]),n}(r.Component)),te=(n(135),function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(d.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"home",children:[Object(a.jsxs)("div",{className:"descr",children:[Object(a.jsx)("div",{className:"line-title"}),Object(a.jsx)("h2",{className:"subtitle",children:"Laws \xe9 uma ferramenta computacional para anota\xe7\xf5es lingu\xedsticas manuais de arquivos audiovisuais!"}),Object(a.jsx)("div",{className:"line-title"})]}),Object(a.jsx)("div",{className:"descr",children:Object(a.jsx)("h3",{className:"sub-desc",children:"Plataforma amigavel e simples para todos os p\xfablicos"})}),Object(a.jsx)("div",{className:"view",children:Object(a.jsx)("h2",{children:"View"})}),Object(a.jsx)("div",{})]})}}]),n}(r.Component));n(136);function ne(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(o.a,{exact:!0,path:"/",render:function(e){return Object(a.jsx)(te,{})}}),Object(a.jsx)(o.a,{path:"/stories",render:function(e){return Object(a.jsx)(K,{})}}),Object(a.jsx)(o.a,{exact:!0,path:"/newproject",render:function(e){return Object(a.jsx)(ee,{})}})]})}var ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,138)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};c.a.render(Object(a.jsx)(l.a,{children:Object(a.jsx)(ne,{})}),document.getElementById("root")),ae()},91:function(e,t,n){}},[[137,1,2]]]);
//# sourceMappingURL=main.1cfe33d6.chunk.js.map